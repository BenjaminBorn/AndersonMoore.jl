default: shared

FC= gfortran
FFLAGS= -shared -fPIC -g -c -O2
CC= gcc
CFLAGS= -shared -fPIC -c -O2

allCObjs= callSparseAim.o sparseAim.o sparskit2.o

allLibs= ./LAPACK/liblapack.a ./LAPACK/librefblas.a 

allFortObjs=  dgetv0.o dlaqrb.o dmout.o dnaitr.o dnapps.o dnaup2.o dnaupd.o \
dnconv.o dneigh.o dneupd.o dngets.o dsortc.o dstatn.o dvout.o ivout.o \
ma50ad.o  

allObjs= $(allFortObjs) $(allCObjs)

shared: clean $(allObjs) 
	gfortran -shared $(allObjs) $(allLibs) \
	 -o libSPARSEAMA.so 	

clean: 
	rm -f *.o *.a *.so

